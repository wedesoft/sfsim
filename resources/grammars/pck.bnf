START        = <HEAD> (DATA | <TEXT>)*
HEAD         = MAGIC LINE*
<DATA>       = <BEGINDATA> (ASSIGNMENT | <WHITESPACE> | <NEWLINE>)*
TEXT         = <BEGINTEXT> LINE*
ASSIGNMENT   = IDENTIFIER <WHITESPACE?> OPERATOR <WHITESPACE?> VALUE
<VALUE>      = NUMBER / DECIMAL
<OPERATOR>   = EQUALS
MAGIC        = #'KPL/(FK|PCK)\n'
BEGINDATA    = WHITESPACE? '\\begindata' WHITESPACE? NEWLINE
BEGINTEXT    = '\\begintext' WHITESPACE? NEWLINE
LINE         = !BEGINDATA #'.*\n'
NUMBER       = #'[-+]?[0-9]+'
DECIMAL      = #'[-+]?[0-9]+(\.[0-9]*([DE][+-]?[0-9]+)?|[DE][+-]?[0-9]+)'
EQUALS       = <'='>
<IDENTIFIER> = #'[a-zA-Z_0-9]+'
WHITESPACE   = #'[,\ \t]+'
NEWLINE      = '\n'
