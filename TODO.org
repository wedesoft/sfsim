#+TITLE: TODO
#+AUTHOR: Jan Wedekind
* TODO [#A] orbital physics :physics:
  - Note taken on [2025-08-14 Do 12:15] \\
    - (:position @pose), object-position; (:orientation @pose); object-to-world (also gltf-to-aerodynamic),
    - origin; camera-orientation,
    - earth-to-icrs, earth-sun, moon-to-icrs (integration tests)
  - [ ] multi method for physics coordinate systems, methods and conditions for switching
  - [ ] atmospheric flight with stationary atmosphere in rotating coordinate system
  - [ ] rotating Earth coordinate system (centrifugal and coriolis force) when close to surface using Jolt matching scheme, handle ground collisions
  - [ ] ICRS position and speed relative to Earth plus zero-centered Jolt matching scheme (accelerated coordinate system with sun gravitation)
  - [ ] rotating Moon coordinate system, handle ground collisions
  - [ ] how to switch speed display (Earth surface, Earth orbit, Moon orbit, Moon surface)
  - [ ] get speed in wind system in each case
  - [ ] get centrifugal and coriolis forces in each case
  - [ ] get Earth position and orientation in each case
  - [ ] get Sun position in each case
* DONE [#A] increase Mie scattering
* TODO [#A] UI overlays for third person view
  - [ ] following camera, different camera views, camera controls such as distance, joystick hat
  - [ ] Radar altitude
* TODO [#B] spacecraft simulation :physics:
  - Note taken on [2025-08-14 Do 12:19] \\
    - [[https://flightsimcoach.com/msfs-2024-keyboard-commands/][MSFS keycoard commands]]
    - [[https://www.shadertoy.com/view/XsXSWS][flame]]
    - [[https://www.shadertoy.com/view/wdjGRz][mach diamonds]]
    - [[https://www.shadertoy.com/view/WdGBDc][mach diamonds]]
    - [[https://blender.stackexchange.com/questions/290145/how-to-create-vacuum-rocket-engine-plume][blender cone]]
    - volumetric engine exhaust?
    - [[https://www.youtube.com/watch?v=qfI9j92CUso][blender animation]]
  - [ ] integrate control surface scaling
  - [ ] implement RCS thrusters
  - [ ] animate control surfaces and air brake
  - [ ] thrust graphics, opengl rocket plume
  - [ ] [[https://www.shadertoy.com/view/XX3fDH][reentry flame]]
  - [ ] physics and animation of steering (apply difference of two animation time stamps)
  - [ ] block gear up when on the ground
  - [ ] Elevator trim
  - [ ] nav lights, strobe lights, landing lights
  - [ ] moon landing physics (hover thrusters)
* TODO sound effects
  - [ ] beep-beep sound, paraglider audio?
* TODO low FPS at 100km height was reported
* TODO deferred decals for rendering runway, runway lights, [[https://aerosavvy.com/airport-lights][airport lights]], spot lights
  [[https://samdriver.xyz/article/decal-render-intro][decal render intro]]
* TODO use icosahedron for mapping 2D micro textures (better grass)
** TODO unroll icosahedron manually (20 surfaces)
** TODO find smallest cross product of vector with sum of corner vectors
** TODO use inverse of corners matrix to get linear combination of corner vectors and normalise sum to one
** TODO determine u and v
* TODO display perihel aphel and time to
* TODO launchpad, launch complex, lights
* TODO 3D cockpit
** TODO cockpit, flight assistance tools, render cockpit and stencil/mask, then render planet, [[https://open.gl/depthstencils][depth stencils]]
** TODO ground slope warning
** TODO frontal and side view of moon lander, altitude visualisation?
** TODO cockpit and scene rendering looking downward so that horizon is in upper half of screen
** TODO EF2000 like cockpit controls (quick access views) ctrl+a,b,c,...? ctrl+arrow?
** TODO EF2000-like zoom into individual MFDs
** TODO [[https://opengc.sourceforge.net/screenshots.html][open glass cockpit]]
** TODO [[https://www.youtube.com/watch?v=XhudXvmnYwU][Kerbal cockpit]]
** TODO [[https://iss-sim.spacex.com/][SpaceX cockpit]]
** TODO orbit plane alignment
** TODO docking view
** TODO horizon with height and variometer
** TODO encounter
   - [ ] station
   - [ ] moon/base
   - [ ] earth
** TODO aerobrake/base roll-reversal, speed-height-distance profile
** TODO heading alignment cylinder
** TODO top:
   - [ ] warnings (status display)
   - [ ] autopilot on/off, autothrottle (autopilot speed), angle of attack and bank hold (including reverse), roll reversal button
   - [ ] autopilot kill rotation, prograde, retrograde, orbit normal +/-, radial in/out
   - [ ] rcs mode (off, rotation, translation)
   - [ ] aircraft flight control surfaces: off/pitch/on
** TODO main:
   - [ ] cabin light, panel light
   - [ ] 2 mfds
   - [ ] apu on/off
   - [ ] airlock doors (three state), chamber pressure, bay door (open, close, stop)
   - [ ] light switch: nav, beacon, strobe
   - [ ] engine, thrust (main/hover), rcs
   - [ ] undock
   - [ ] fuel display (main, rcs, apu), oxygen display
   - [ ] hover doors switch + status
   - [ ] gear up/down switch + status
   - [ ] spoilers
   - [ ] radiator deploy + status
   - [ ] coolant temperature
   - [ ] no flaps
** TODO mfd:
   - [ ] yaw, bank, pitch acceleration and velocity indicators
   - [ ] horizon hsi, height, heading, variometer, speed, ils height, nominal speed
   - [ ] vor (use heading)
   - [ ] nav frequencies, dock, vtol freq
   - [ ] dock (angles, offset to path, distance, approach speed, x/y speed)
   - [ ] camera
   - [ ] map of earth/moon
   - [ ] hull temperature
   - [ ] align orbit plane
   - [ ] orbit
   - [ ] transfer: encounter, translunar orbit, insertion
   - [ ] ascent profile
   - [ ] reentry profile
** TODO engine thrust lever (main, hover)
   - [ ] hover door
** TODO bottom
   - [ ] flightstick (yaw/pitch/roll), trim wheel
   - [ ] fuel lines open/close (lox, main), external pressure online
   - [ ] life support
** TODO greyscale cameras, MFDs
* TODO [[https://blog.kuula.co/virtual-tour-space-shuttle][space shuttle virtual tour]]
* TODO make cockpit with Blender
* TODO stars, [[https://www.shadertoy.com/view/ttcSD8][volumetric clouds]]
** TODO Skydome: counter-clockwise front face (GL11/glFrontFace GL11/GL\_CCW) (configuration object)
** TODO Skydome scaled to ZFAR * 0.5
** TODO no skydome and just stars as pixels?
* TODO sun (see s2016-pbs-frostbite-sky-clouds-new.pdf)
* TODO flying circuit with rectangles to fly through
* TODO extendability (modding)?
* TODO fix problem with resolution of neighbouring tiles in planetary cubemap
  problem with neighbouring resolution levels being to different (maybe use more than two possibilities for edge tessellation?)
* TODO get high-res Florida data
* TODO [[https://www.spaceflighthistories.com/post/x-33-venturestar][X-33 Venturestar]]
  - [ ] add thrust: 3,010,000 lbf
  - [ ] weight: payload 25000 kg. vehicle 100t-135t
  - [ ] fuel: LOX 723900 kg, LH2 126000 kg -> 849900 kg
  - [ ] [[http://mae-nas.eng.usu.edu/MAE_5540_Web/propulsion_systems/section4/section4.2.pdf][section4.2.pdf]]
* TODO integration test powder function
* TODO arycama: limit darkness of cloud shadow (exponential approaching a base level)
* TODO increase ambient light (surface radiance)
* TODO space station model, station lights
* TODO release demo
* TODO [[https://svs.gsfc.nasa.gov/4720/][render moonlight and moon]]
* TODO moon base, lights
* TODO shooting stars
* TODO fix planet tessellation tests
* TODO define wheel positions in Blender
  animate wheel rotation and suspension, bake gear animation and name actions the same
* TODO hover thruster locations
* TODO threads for rendering, simulation, and loading of data
* TODO docking physics
* TODO Check out poliastro and hapsira
* TODO use components and core.async for physics and loading of data, rendering main thread as component?
  [[https://www.reddit.com/r/opengl/comments/10rwgy7/what\_is\_currently\_the\_best\_method\_to\_render\_roads/][render roads]]
* TODO introduce variation to cloud height
* TODO [[https://wms.lroc.asu.edu/lroc/view_rdr/WAC_CSHADE][lunar elevation map]]
* TODO .jpg -> .day.jpg
* TODO cloud shadow flickering at large distance?
* TODO compute earth barycenter and sun in separate thread (use future)
* TODO microtexture for normal map, microtextures, bump maps
* TODO shadows and opacity maps are set up in three places (search :sfsim.opacity/shadows)
* TODO pack more textures into one and then try one object casting shadow on another (pack object shadow maps into one?)
* TODO separate atmosphere from environmental shadow code, setup-shadow-matrices support for no environmental shadow,
  overall-shading with object shadows only, aggregate shadow-vars with scene-shadows?
* TODO integrate object shadows into direct light shader and maybe make template function for shadows which can be composed,
  use multiplication of local shadow map and planet+cloud shadows?
* TODO [[https://lup.lub.lu.se/student-papers/search/publication/8893256][Scattering approximation function]]
* TODO add object radius to object?
* TODO dted elevation data: [[https://gdal.org/drivers/raster/dted.html][dted elevation data]]
** TODO [[https://topotools.cr.usgs.gov/gmted_viewer/viewer.htm][gmted]]
* TODO read lwjgl book: https://lwjglgamedev.gitbooks.io/3d-game-development-with-lwjgl/content/
* TODO adapt shadow map size to object distance
* TODO add earth light
* TODO test for render-triangles
* TODO create windows using blending
* TODO use 1-channel png for water?
* TODO make cloud prototype more modular, separate cloud\_shadow and transmittance\_outer,
* TODO add exceptions for all OpenGL stuff
* TODO hot spots for map
* TODO use Earth explorer data: https://earthexplorer.usgs.gov/
* TODO use GMTED2010 or STRM90 elevation data:
** TODO [[https://topotools.cr.usgs.gov/gmted\_viewer/viewer.htm][gmted viewer]]
** TODO [[https://www.eorc.jaxa.jp/ALOS/en/dataset/aw3d\_e.htm][aw3d]]
** TODO [[https://www.eorc.jaxa.jp/ALOS/en/dataset/aw3d30/aw3d30\_e.htm][aw3d30]]
* TODO how to render water, waves, [[https://www.shadertoy.com/view/Ms2SD1][waves]]
* TODO when building maps put intermediate files into a common subdirectory (tmp?)
* TODO uniform random offsets for Worley noises to generate different cloud cover for each game
* TODO render building on top of ground
* TODO put parameters like max-height, power, specular, radius in a configuration (edn?) file
* TODO improve rendering of sun
  only render sun glare when sun is above horizon, use single (normalised?) color from transmittance, bloom?
  amplify glare? appearance of sun? s2016-pbs-frostbite-sky-clouds-new.pdf page 28
* TODO organize fixtures using subdirectories
* TODO You need to ensure that the ByteBuffer passed to stbtt\_InitFont is not garbage collected
* TODO use ZGC (short pause garbage collector for Java)
* TODO improve performance of quaternions (see fastmath implementation)
* TODO Get scale-image to work on large images
* TODO NASA docking system, soft-dock, hard-dock, [[https://www.youtube.com/watch?v=dWYpVfhvsak][docking sytem]]
* TODO blinking beacon/position lights
* TODO 3D moon rendering
* TODO multitextures for land detail, microtextures or normal maps using octahedral mapping?
* TODO airport-like departure tables
* TODO render articulated objects with configuration
* TODO mp3 player, play different game music depending on situation
* TODO autopilot programs: baseland, helicopter, hover/autoland, launch/deorbit, aerocapture/aerobrake, airspeed hold, attitude hold, altitude hold, heading alignment cylinder, VOR/ILS, eject, capture, base sync, station sync, dock
* TODO no need to adjust MFDs during critical parts of the mission
* TODO [[https://github.com/HappyEnte/DreamChaser][Dreamchaser]]
* TODO [#C] graphics improvements
  - Note taken on [2025-08-14 Do 12:33] \\
    - [[https://learnopengl.com/Advanced-Lighting/Bloom][Bloom]]
    - [[https://learnopengl.com/Guest-Articles/2022/Phys.-Based-Bloom][Bloom]]
    - [[http://blog.chrismdp.com/2015/06/how-to-quickly-add-bloom-to-your-engine/][Bloom]]
  - [ ] HDR bloom (separable convolution), Add blurred overflow
  - [ ] point sprites for stars, atmospheric flicker using sprite arrays
  - [ ] multisampling
  - [ ] windows (blending, reflections)
* TODO event-based radio (triggers as in Operation Flashpoint)
* TODO missions and high scores
* TODO normal map baking in blender: swizzle R=+X, G=-Y, B=+Z
* TODO steam page
  steam page with trailer 90-180 seconds long (starting with gameplay immediately, end with call to action (wishlist now),
  show UI (make outside cockpit UI?), easy to understand shots with player interaction 3-5 seconds each, show variety in biomes,
  (1920x1080, 5000 kbps, 30 fps, mp4)), capsule art (recognisable professional designed thumbnail),
  first 4 screenshots important - bright ones and dark ones (at least 3 different environments),
  good short description (engaging start, mention core hooks, enumerate basic gameplay verbs, by wedesoft (social proof)),
  add steam page url to long description, add animated GIFs, section banners
* TODO [[https://www.youtube.com/@indiegamecloud][indie game cloud]]
* TODO targeted game description:
  - [ ] go four layers deep when describing your kind game: main genre, sub-genre, type of combat, setting / theme
  - [ ] breakdown into five tasks (What player does in your game), what actions the player uses to fulfill this task, be as specific as you can, add GIFs
